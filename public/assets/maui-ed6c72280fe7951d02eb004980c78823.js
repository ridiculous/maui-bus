function Maui(){var e=this;this.gmap=null,this.bus_stops=[],this.way_points=[],this.map_name="",this.centering=!1,this.loadBusStops=function(e){this.gmap||(this.gmap=new BaseMap),this.bus_stops=e;for(var t=0;t<e.length;t++)this[e[t].location]=e[t].name},this.drawRoute=function(t,n,r){if(typeof Center!="undefined")this.centering=!0,this.centerMap();else{this.setWayPoints(r);var i={origin:t,destination:n,travelMode:google.maps.TravelMode.DRIVING,waypoints:this.way_points};this.gmap.directionsService.route(i,function(t,n){n==google.maps.DirectionsStatus.OK&&e.gmap.directionsDisplay.setDirections(t)}),this.gmap.addMarkers(this.bus_stops,this.map_name)}},this.setWayPoints=function(e){for(var t=0;t<e.length;t++){var n=null,r={};e[t]&&/:stopover/.test(e[t])?(n=this.bus_stops.findObject(e[t].split(":")[0],"location"),r.stopover=!1):n=this.bus_stops.findObject(e[t],"location"),r.location=new google.maps.LatLng(n.lat,n.long),this.way_points[t]=r}},this.setMapName=function(e){this.map_name=e},this.centerMap=function(e){var t=e||this.bus_stops.findObject(this[Center],"name"),n=new google.maps.LatLng(t.lat,t.long),r=this.gmap.addMarkers([t],this.map_name)[0];this.gmap.map.setCenter(n),this.gmap.map.setZoom(this.gmap.map.getZoom()+11),google.maps.event.trigger(r.marker,"click")}};