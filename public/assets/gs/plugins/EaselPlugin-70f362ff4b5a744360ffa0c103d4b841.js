/**
 * VERSION: beta 0.1.4
 * DATE: 2013-02-28
 * JavaScript
 * UPDATES AND DOCS AT: http://www.greensock.com
 *
 * @license Copyright (c) 2008-2013, GreenSock. All rights reserved.
 * This work is subject to the terms in http://www.greensock.com/terms_of_use.html or for 
 * Club GreenSock members, the software agreement that was issued with your membership.
 * 
 * @author: Jack Doyle, jack@greensock.com
 **/
(window._gsQueue||(window._gsQueue=[])).push(function(){"use strict";var e=/(\d|\.)+/g,t,n,r=["redMultiplier","greenMultiplier","blueMultiplier","alphaMultiplier","redOffset","greenOffset","blueOffset","alphaOffset"],i={aqua:[0,255,255],lime:[0,255,0],silver:[192,192,192],black:[0,0,0],maroon:[128,0,0],teal:[0,128,128],blue:[0,0,255],navy:[0,0,128],white:[255,255,255],fuchsia:[255,0,255],olive:[128,128,0],yellow:[255,255,0],orange:[255,165,0],gray:[128,128,128],purple:[128,0,128],green:[0,128,0],red:[255,0,0],pink:[255,192,203],cyan:[0,255,255],transparent:[255,255,255,0]},s=function(t){return t===""||t==null||t==="none"?i.transparent:i[t]?i[t]:typeof t=="number"?[t>>16,t>>8&255,t&255]:t.charAt(0)==="#"?(t.length===4&&(t="#"+t.charAt(1)+t.charAt(1)+t.charAt(2)+t.charAt(2)+t.charAt(3)+t.charAt(3)),t=parseInt(t.substr(1),16),[t>>16,t>>8&255,t&255]):t.match(e)||i.transparent},o=function(e,n,i){if(!t){t=window.ColorFilter||window.createjs.ColorFilter;if(!t)throw"EaselPlugin error: The EaselJS ColorFilter JavaScript file wasn't loaded."}var o=e.filters||[],u=o.length,a,f,l,c,h;while(--u>-1)if(o[u]instanceof t){f=o[u];break}f||(f=new t,o.push(f),e.filters=o),l=f.clone();if(n.tint!=null)a=s(n.tint),c=n.tintAmount!=null?Number(n.tintAmount):1,l.redOffset=Number(a[0])*c,l.greenOffset=Number(a[1])*c,l.blueOffset=Number(a[2])*c,l.redMultiplier=l.greenMultiplier=l.blueMultiplier=1-c;else for(h in n)h!=="exposure"&&h!=="brightness"&&(l[h]=Number(n[h]));n.exposure!=null?(l.redOffset=l.greenOffset=l.blueOffset=255*(Number(n.exposure)-1),l.redMultiplier=l.greenMultiplier=l.blueMultiplier=1):n.brightness!=null&&(c=Number(n.brightness)-1,l.redOffset=l.greenOffset=l.blueOffset=c>0?c*255:0,l.redMultiplier=l.greenMultiplier=l.blueMultiplier=1-Math.abs(c)),u=8;while(--u>-1)h=r[u],f[h]!==l[h]&&i._addTween(f,h,f[h],l[h],"easel_colorFilter");i._overwriteProps.push("easel_colorFilter");if(!e.cacheID)throw"EaselPlugin warning: for filters to display in EaselJS, you must call the object's cache() method first. "+e},u=[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0],a=.212671,f=.71516,l=.072169,c=function(e,t){if(e instanceof Array&&t instanceof Array){var n=[],r=0,i=0,s,o;for(s=0;s<4;s++){for(o=0;o<5;o++)i=o===4?e[r+4]:0,n[r+o]=e[r]*t[o]+e[r+1]*t[o+5]+e[r+2]*t[o+10]+e[r+3]*t[o+15]+i;r+=5}return n}return t},h=function(e,t){if(isNaN(t))return e;var n=1-t,r=n*a,i=n*f,s=n*l;return c([r+t,i,s,0,0,r,i+t,s,0,0,r,i,s+t,0,0,0,0,0,1,0],e)},p=function(e,t,n){isNaN(n)&&(n=1);var r=s(t),i=r[0]/255,o=r[1]/255,u=r[2]/255,h=1-n;return c([h+n*i*a,n*i*f,n*i*l,0,0,n*o*a,h+n*o*f,n*o*l,0,0,n*u*a,n*u*f,h+n*u*l,0,0,0,0,0,1,0],e)},d=function(e,t){if(isNaN(t))return e;t*=Math.PI/180;var n=Math.cos(t),r=Math.sin(t);return c([a+n*(1-a)+r*-a,f+n*-f+r*-f,l+n*-l+r*(1-l),0,0,a+n*-a+r*.143,f+n*(1-f)+r*.14,l+n*-l+r*-0.283,0,0,a+n*-a+r*-(1-a),f+n*-f+r*f,l+n*(1-l)+r*l,0,0,0,0,0,1,0,0,0,0,0,1],e)},v=function(e,t){return isNaN(t)?e:(t+=.01,c([t,0,0,0,128*(1-t),0,t,0,0,128*(1-t),0,0,t,0,128*(1-t),0,0,0,1,0],e))},m=function(e,t,r){if(!n){n=window.ColorMatrixFilter||window.createjs.ColorMatrixFilter;if(!n)throw"EaselPlugin error: The EaselJS ColorMatrixFilter JavaScript file wasn't loaded."}var i=e.filters||[],s=i.length,o,a,f;while(--s>-1)if(i[s]instanceof n){f=i[s];break}f||(f=new n(u.slice()),i.push(f),e.filters=i),a=f.matrix,o=u.slice(),t.colorize!=null&&(o=p(o,t.colorize,Number(t.colorizeAmount))),t.contrast!=null&&(o=v(o,Number(t.contrast))),t.hue!=null&&(o=d(o,Number(t.hue))),t.saturation!=null&&(o=h(o,Number(t.saturation))),s=o.length;while(--s>-1)o[s]!==a[s]&&r._addTween(a,s,a[s],o[s],"easel_colorMatrixFilter");r._overwriteProps.push("easel_colorMatrixFilter");if(!e.cacheID)throw"EaselPlugin warning: for filters to display in EaselJS, you must call the object's cache() method first. "+e;r._matrix=a};window._gsDefine.plugin({propName:"easel",priority:-1,API:2,init:function(e,t,n){this._target=e;var r,i,s,u;for(r in t)r==="colorFilter"||r==="tint"||r==="tintAmount"||r==="exposure"||r==="brightness"?s||(o(e,t.colorFilter||t,this),s=!0):r==="saturation"||r==="contrast"||r==="hue"||r==="colorize"||r==="colorizeAmount"?u||(m(e,t.colorMatrixFilter||t,this),u=!0):e[r]!=null&&(this._firstPT=i={_next:this._firstPT,t:e,p:r,f:typeof e[r]=="function",n:r,pr:0,type:0},i.s=i.f?e[r.indexOf("set")||typeof e["get"+r.substr(3)]!="function"?r:"get"+r.substr(3)]():parseFloat(e[r]),i.c=typeof t[r]=="number"?t[r]-i.s:typeof t[r]=="string"?parseFloat(t[r].split("=").join("")):0,i._next&&(i._next._prev=i));return!0},set:function(e){var t=this._firstPT,n=1e-6,r;while(t)r=t.c*e+t.s,t.r?r=r+(r>0?.5:-0.5)>>0:r<n&&r>-n&&(r=0),t.f?t.t[t.p](r):t.t[t.p]=r,t=t._next;this._target.cacheID&&this._target.updateCache()}})}),window._gsDefine&&window._gsQueue.pop()();