var EventDispatcher=function(){var t={},n=[];this.registerEvent=function(e){n.push(e),t[e]=[]},this.registerEvents=function(t){for(var n=0,e=t.length;e>n;n++)this.registerEvent(t[n])},this.getEventRoster=function(){return n},this.getListenerChain=function(){return t},this.addEventListener=function(n,e){return e instanceof Function?(t[n]?t[n].push(e):t[n]=[e],void 0):!1},this.hasEventListener=function(n){return"undefined"!=typeof t[n]&&t[n].length>0},this.removeEventListener=function(n,e){if(!this.hasEventListener(n))return!1;for(var i=0,s=t[n].length;s>i;i++)t[n][i]===e&&t[n].splice(i,1)},this.dispatchEvent=function(n,e){if(t[n])for(var i=0,s=t[n].length;s>i;i++)t[n][i](e)},this.once=function(t,n){var e=function(i){n(i),this.removeEventListener(t,e)}.bind(this);this.addEventListener(t,e)},this.on=this.addEventListener,this.un=this.removeEventListener,this.fire=this.dispatchEvent};